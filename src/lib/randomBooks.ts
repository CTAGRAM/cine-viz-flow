export interface RandomBook {
  id: string; // ISBN-13 format
  title: string;
  author: string;
  rating: number; // 0-5
  subject: string;
  condition: string;
  posterUrl: string; // Direct image URL from Open Library
  year: number;
}

// Curated book database with verified poster images from Open Library Covers API
// Format: https://covers.openlibrary.org/b/isbn/{ISBN}-L.jpg
export const RANDOM_BOOKS_DATABASE: RandomBook[] = [
  // Computer Science (10 books)
  {
    id: "9780134685991",
    title: "Effective Java",
    author: "Joshua Bloch",
    rating: 4.7,
    subject: "Computer Science",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780134685991-L.jpg",
    year: 2018,
  },
  {
    id: "9780132350884",
    title: "Clean Code",
    author: "Robert C. Martin",
    rating: 4.6,
    subject: "Computer Science",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780132350884-L.jpg",
    year: 2008,
  },
  {
    id: "9780262033848",
    title: "Introduction to Algorithms",
    author: "Thomas H. Cormen",
    rating: 4.8,
    subject: "Computer Science",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780262033848-L.jpg",
    year: 2009,
  },
  {
    id: "9780135957059",
    title: "The Pragmatic Programmer",
    author: "David Thomas, Andrew Hunt",
    rating: 4.7,
    subject: "Computer Science",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780135957059-L.jpg",
    year: 2019,
  },
  {
    id: "9781449355739",
    title: "Designing Data-Intensive Applications",
    author: "Martin Kleppmann",
    rating: 4.8,
    subject: "Computer Science",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9781449355739-L.jpg",
    year: 2017,
  },
  {
    id: "9780201633610",
    title: "Design Patterns",
    author: "Erich Gamma",
    rating: 4.5,
    subject: "Computer Science",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780201633610-L.jpg",
    year: 1994,
  },
  {
    id: "9780137081073",
    title: "The Clean Coder",
    author: "Robert C. Martin",
    rating: 4.4,
    subject: "Computer Science",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780137081073-L.jpg",
    year: 2011,
  },
  {
    id: "9780596517748",
    title: "JavaScript: The Good Parts",
    author: "Douglas Crockford",
    rating: 4.3,
    subject: "Computer Science",
    condition: "Fair",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780596517748-L.jpg",
    year: 2008,
  },
  {
    id: "9781491950357",
    title: "Building Microservices",
    author: "Sam Newman",
    rating: 4.5,
    subject: "Computer Science",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9781491950357-L.jpg",
    year: 2015,
  },
  {
    id: "9780321125217",
    title: "Domain-Driven Design",
    author: "Eric Evans",
    rating: 4.6,
    subject: "Computer Science",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780321125217-L.jpg",
    year: 2003,
  },

  // Mathematics (8 books)
  {
    id: "9780321982384",
    title: "Thomas' Calculus",
    author: "George B. Thomas",
    rating: 4.4,
    subject: "Mathematics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780321982384-L.jpg",
    year: 2017,
  },
  {
    id: "9780134689517",
    title: "Linear Algebra and Its Applications",
    author: "David C. Lay",
    rating: 4.5,
    subject: "Mathematics",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780134689517-L.jpg",
    year: 2015,
  },
  {
    id: "9780073383095",
    title: "Discrete Mathematics and Its Applications",
    author: "Kenneth Rosen",
    rating: 4.3,
    subject: "Mathematics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780073383095-L.jpg",
    year: 2011,
  },
  {
    id: "9780691140346",
    title: "Introduction to Probability",
    author: "Dimitri P. Bertsekas",
    rating: 4.6,
    subject: "Mathematics",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780691140346-L.jpg",
    year: 2008,
  },
  {
    id: "9780521592710",
    title: "Real Analysis",
    author: "H. L. Royden",
    rating: 4.4,
    subject: "Mathematics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780521592710-L.jpg",
    year: 1988,
  },
  {
    id: "9780471317180",
    title: "Numerical Analysis",
    author: "Richard L. Burden",
    rating: 4.2,
    subject: "Mathematics",
    condition: "Fair",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780471317180-L.jpg",
    year: 2010,
  },
  {
    id: "9780486458243",
    title: "Introduction to Topology",
    author: "Bert Mendelson",
    rating: 4.3,
    subject: "Mathematics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780486458243-L.jpg",
    year: 1990,
  },
  {
    id: "9780691140513",
    title: "How to Prove It",
    author: "Daniel J. Velleman",
    rating: 4.7,
    subject: "Mathematics",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780691140513-L.jpg",
    year: 2006,
  },

  // Physics (8 books)
  {
    id: "9781285737027",
    title: "Physics for Scientists and Engineers",
    author: "Raymond A. Serway",
    rating: 4.5,
    subject: "Physics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9781285737027-L.jpg",
    year: 2013,
  },
  {
    id: "9780321973610",
    title: "University Physics",
    author: "Hugh D. Young",
    rating: 4.4,
    subject: "Physics",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780321973610-L.jpg",
    year: 2015,
  },
  {
    id: "9780465062904",
    title: "Six Easy Pieces",
    author: "Richard P. Feynman",
    rating: 4.7,
    subject: "Physics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780465062904-L.jpg",
    year: 2011,
  },
  {
    id: "9780201360752",
    title: "Classical Mechanics",
    author: "Herbert Goldstein",
    rating: 4.6,
    subject: "Physics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780201360752-L.jpg",
    year: 2001,
  },
  {
    id: "9780521829502",
    title: "Quantum Mechanics",
    author: "Claude Cohen-Tannoudji",
    rating: 4.5,
    subject: "Physics",
    condition: "Fair",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780521829502-L.jpg",
    year: 2005,
  },
  {
    id: "9780486652696",
    title: "The Feynman Lectures on Physics",
    author: "Richard P. Feynman",
    rating: 4.8,
    subject: "Physics",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780486652696-L.jpg",
    year: 2011,
  },
  {
    id: "9780471879558",
    title: "Statistical Mechanics",
    author: "R. K. Pathria",
    rating: 4.4,
    subject: "Physics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780471879558-L.jpg",
    year: 1996,
  },
  {
    id: "9780471873730",
    title: "Introduction to Electrodynamics",
    author: "David J. Griffiths",
    rating: 4.6,
    subject: "Physics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780471873730-L.jpg",
    year: 2012,
  },

  // Chemistry (5 books)
  {
    id: "9780321943170",
    title: "Chemistry: The Central Science",
    author: "Theodore L. Brown",
    rating: 4.4,
    subject: "Chemistry",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780321943170-L.jpg",
    year: 2014,
  },
  {
    id: "9781305957404",
    title: "Organic Chemistry",
    author: "John E. McMurry",
    rating: 4.5,
    subject: "Chemistry",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9781305957404-L.jpg",
    year: 2015,
  },
  {
    id: "9780321811851",
    title: "Physical Chemistry",
    author: "Peter Atkins",
    rating: 4.6,
    subject: "Chemistry",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780321811851-L.jpg",
    year: 2013,
  },
  {
    id: "9780470917862",
    title: "Inorganic Chemistry",
    author: "Gary L. Miessler",
    rating: 4.3,
    subject: "Chemistry",
    condition: "Fair",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780470917862-L.jpg",
    year: 2013,
  },
  {
    id: "9781429275972",
    title: "Analytical Chemistry",
    author: "Douglas A. Skoog",
    rating: 4.4,
    subject: "Chemistry",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9781429275972-L.jpg",
    year: 2013,
  },

  // Biology (5 books)
  {
    id: "9780134093413",
    title: "Campbell Biology",
    author: "Lisa A. Urry",
    rating: 4.6,
    subject: "Biology",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780134093413-L.jpg",
    year: 2016,
  },
  {
    id: "9780815344322",
    title: "Molecular Biology of the Cell",
    author: "Bruce Alberts",
    rating: 4.7,
    subject: "Biology",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780815344322-L.jpg",
    year: 2014,
  },
  {
    id: "9781464111839",
    title: "Principles of Biochemistry",
    author: "David L. Nelson",
    rating: 4.5,
    subject: "Biology",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9781464111839-L.jpg",
    year: 2012,
  },
  {
    id: "9780878935970",
    title: "Genetics: Analysis of Genes and Genomes",
    author: "Daniel L. Hartl",
    rating: 4.4,
    subject: "Biology",
    condition: "Fair",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780878935970-L.jpg",
    year: 2014,
  },
  {
    id: "9780199207114",
    title: "Evolution",
    author: "Douglas J. Futuyma",
    rating: 4.6,
    subject: "Biology",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780199207114-L.jpg",
    year: 2013,
  },

  // Literature (5 books)
  {
    id: "9780486280493",
    title: "Pride and Prejudice",
    author: "Jane Austen",
    rating: 4.6,
    subject: "Literature",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780486280493-L.jpg",
    year: 1995,
  },
  {
    id: "9780141182605",
    title: "1984",
    author: "George Orwell",
    rating: 4.7,
    subject: "Literature",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780141182605-L.jpg",
    year: 2013,
  },
  {
    id: "9780743273565",
    title: "The Great Gatsby",
    author: "F. Scott Fitzgerald",
    rating: 4.4,
    subject: "Literature",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780743273565-L.jpg",
    year: 2004,
  },
  {
    id: "9780060935467",
    title: "To Kill a Mockingbird",
    author: "Harper Lee",
    rating: 4.8,
    subject: "Literature",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780060935467-L.jpg",
    year: 2002,
  },
  {
    id: "9780142437230",
    title: "Moby-Dick",
    author: "Herman Melville",
    rating: 4.3,
    subject: "Literature",
    condition: "Fair",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780142437230-L.jpg",
    year: 2003,
  },

  // History (5 books)
  {
    id: "9780060958329",
    title: "The Rise and Fall of the Third Reich",
    author: "William L. Shirer",
    rating: 4.7,
    subject: "History",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780060958329-L.jpg",
    year: 2011,
  },
  {
    id: "9780307263681",
    title: "Guns, Germs, and Steel",
    author: "Jared Diamond",
    rating: 4.5,
    subject: "History",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780307263681-L.jpg",
    year: 2005,
  },
  {
    id: "9780141034591",
    title: "Sapiens",
    author: "Yuval Noah Harari",
    rating: 4.6,
    subject: "History",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780141034591-L.jpg",
    year: 2015,
  },
  {
    id: "9780679721031",
    title: "The Histories",
    author: "Herodotus",
    rating: 4.4,
    subject: "History",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780679721031-L.jpg",
    year: 1998,
  },
  {
    id: "9780679783695",
    title: "A People's History of the United States",
    author: "Howard Zinn",
    rating: 4.5,
    subject: "History",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780679783695-L.jpg",
    year: 2003,
  },

  // Economics (4 books)
  {
    id: "9780262033848",
    title: "Principles of Economics",
    author: "N. Gregory Mankiw",
    rating: 4.4,
    subject: "Economics",
    condition: "New",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9781305585126-L.jpg",
    year: 2017,
  },
  {
    id: "9780691162560",
    title: "Capital in the Twenty-First Century",
    author: "Thomas Piketty",
    rating: 4.3,
    subject: "Economics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780691162560-L.jpg",
    year: 2014,
  },
  {
    id: "9780141036250",
    title: "Freakonomics",
    author: "Steven D. Levitt",
    rating: 4.2,
    subject: "Economics",
    condition: "Good",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780141036250-L.jpg",
    year: 2007,
  },
  {
    id: "9780393324815",
    title: "The Wealth of Nations",
    author: "Adam Smith",
    rating: 4.5,
    subject: "Economics",
    condition: "Fair",
    posterUrl: "https://covers.openlibrary.org/b/isbn/9780393324815-L.jpg",
    year: 2003,
  },
];

// Get a random book from the database
export function getRandomBook(excludeIds: string[] = []): RandomBook {
  const availableBooks = RANDOM_BOOKS_DATABASE.filter(
    (book) => !excludeIds.includes(book.id)
  );
  
  if (availableBooks.length === 0) {
    // If all books have been used, reset and get any random book
    const randomIndex = Math.floor(Math.random() * RANDOM_BOOKS_DATABASE.length);
    return RANDOM_BOOKS_DATABASE[randomIndex];
  }
  
  const randomIndex = Math.floor(Math.random() * availableBooks.length);
  return availableBooks[randomIndex];
}

// Get multiple random books
export function getRandomBooks(count: number, excludeIds: string[] = []): RandomBook[] {
  const books: RandomBook[] = [];
  const usedIds = new Set(excludeIds);
  
  for (let i = 0; i < count && i < RANDOM_BOOKS_DATABASE.length; i++) {
    const book = getRandomBook(Array.from(usedIds));
    books.push(book);
    usedIds.add(book.id);
  }
  
  return books;
}
